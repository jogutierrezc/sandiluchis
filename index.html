<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¬°Feliz Cumplea√±os, Sandiluchis!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;600&family=Pacifico&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* Asegura que el body ocupe al menos toda la pantalla */
            min-height: 100vh;
            /* Para navegadores m√≥viles (iPhone) que tienen barras din√°micas */
            min-height: 100svh;
        }
        
        .font-fancy {
            font-family: 'Playfair Display', serif;
        }

        .font-handwriting {
            font-family: 'Pacifico', cursive;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            /* Importante: Habilita el 3D para los hijos */
            transform-style: preserve-3d;
        }

        .card.is-flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 1.5rem;
            border: 8px solid white;
            box-shadow: 0 15px 30px rgba(219, 112, 147, 0.3);
            overflow: hidden;
        }

        .card-front {
            background: linear-gradient(135deg, #fff1f2, #ffe4e6);
        }

        .card-back {
            background: linear-gradient(135deg, #fff1f2, #ffe4e6);
            transform: rotateY(180deg);
        }

        /* --- Animaciones adicionales --- */

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .animate-pulse-custom {
            animation: pulse 2s infinite ease-in-out;
        }

        @keyframes fadeAndScaleIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        .svg-flower {
            opacity: 0;
            animation: fadeAndScaleIn 1s forwards ease-out;
            animation-delay: 0.5s;
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .text-animate {
            opacity: 0;
            animation: slideInUp 0.8s forwards ease-out;
            animation-delay: var(--delay, 0s);
        }

        /* --- Estilos y animaci√≥n para las sand√≠as --- */
        .watermelon-fall-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 10;
        }

        .watermelon {
            position: absolute;
            font-size: 2rem;
            opacity: 0;
            transform: translateY(-50px) rotate(0deg);
            animation: watermelonFall 3s linear forwards;
        }

        @keyframes watermelonFall {
            0% {
                opacity: 0;
                transform: translateY(-50px) rotate(0deg) scale(0.5);
            }
            10% {
                opacity: 1;
                transform: translateY(0px) rotate(30deg) scale(0.8);
            }
            100% {
                opacity: 0;
                transform: translateY(calc(100vh + 50px)) rotate(360deg) scale(1.2);
            }
        }

        /* Clases para posicionar flores SVG */
        .flower-top-left { top: 1rem; left: 1rem; }
        .flower-top-right { top: 1rem; right: 1rem; }
        .flower-bottom-left { bottom: 1rem; left: 1rem; }
        .flower-bottom-right { bottom: 1rem; right: 1rem; }

    </style>
</head>
<!--
 * --- AJUSTE CLAVE ---
 * 1. Se a√±ade [perspective:1200px] al BODY.
 * Ahora el BODY es el "escenario" 3D.
 * 2. Se mantienen las clases de centrado (flex, items-center, justify-center).
-->
<body class="bg-gradient-to-br from-pink-100 to-purple-100 flex items-center justify-center p-4 [perspective:1200px]">

    <!--
     * --- AJUSTE CLAVE ---
     * 1. Se QUITA [perspective:1200px] de aqu√≠.
     * La tarjeta ya no es el escenario, solo es un "actor" centrado.
     * Su posici√≥n en el layout de flexbox NO cambiar√° durante la animaci√≥n.
    -->
    <div class="card w-full max-w-sm h-auto aspect-[9/15] max-h-[90vh] sm:max-w-md sm:max-h-[650px]" id="invitationCard">
        
        <div class="card-inner w-full h-full">

            <!-- ===== ANVERSO DE LA TARJETA (PORTADA) ===== -->
            <div class="card-face card-front p-6 sm:p-8 text-center relative">
                
                <svg class="svg-flower absolute flower-top-left" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#f472b6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2L10.5 7.5L5 9L9.5 11.5L12 17L14.5 11.5L19 9L13.5 7.5L12 2Z"></path>
                    <path d="M12 2L10.5 7.5L5 9L9.5 11.5L12 17L14.5 11.5L19 9L13.5 7.5L12 2Z" fill="#fda4af" opacity="0.6"></path>
                </svg>
                 <svg class="svg-flower absolute flower-top-right" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#f472b6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2L10.5 7.5L5 9L9.5 11.5L12 17L14.5 11.5L19 9L13.5 7.5L12 2Z"></path>
                    <path d="M12 2L10.5 7.5L5 9L9.5 11.5L12 17L14.5 11.5L19 9L13.5 7.5L12 2Z" fill="#fda4af" opacity="0.6"></path>
                </svg>
                 <svg class="svg-flower absolute flower-bottom-left" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#f472b6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2L10.5 7.5L5 9L9.5 11.5L12 17L14.5 11.5L19 9L13.5 7.5L12 2Z"></path>
                    <path d="M12 2L10.5 7.5L5 9L9.5 11.5L12 17L14.5 11.5L19 9L13.5 7.5L12 2Z" fill="#fda4af" opacity="0.6"></path>
                </svg>
                 <svg class="svg-flower absolute flower-bottom-right" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#f472b6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 2L10.5 7.5L5 9L9.5 11.5L12 17L14.5 11.5L19 9L13.5 7.5L12 2Z"></path>
                    <path d="M12 2L10.5 7.5L5 9L9.5 11.5L12 17L14.5 11.5L19 9L13.5 7.5L12 2Z" fill="#fda4af" opacity="0.6"></path>
                </svg>

                <div class="flex flex-col justify-center items-center h-full space-y-4">
                    <div class="text-5xl sm:text-6xl text-animate" style="--delay: 0.1s;">üéâ</div>
                    <h1 class="font-fancy text-3xl sm:text-4xl text-pink-700 text-animate" style="--delay: 0.3s;">¬°Es un d√≠a muy especial!</h1>
                    <p class="text-md sm:text-lg text-pink-600 text-animate" style="--delay: 0.5s;">Tenemos algo incre√≠ble preparado...</p>
                    <button id="openButton" class="bg-gradient-to-r from-pink-500 to-red-400 text-white font-bold py-3 px-6 sm:py-4 sm:px-8 rounded-full shadow-xl hover:from-pink-600 hover:to-red-500 transition-all duration-300 transform hover:scale-105 text-lg animate-pulse-custom">
                        Tenemos una sorpresa para ti
                    </button>
                    <div class="text-3xl text-pink-300 opacity-60 text-animate" style="--delay: 0.7s;">
                        üéÇ ü•≥ üíñ
                    </div>
                </div>
            </div>

            <!-- ===== REVERSO DE LA TARJETA (LA INVITACI√ìN) ===== -->
            <div class="card-face card-back p-6 sm:p-8 text-center relative">
                
                <div class="watermelon-fall-container" id="watermelonContainer"></div>

                <div class="flex flex-col justify-center items-center h-full space-y-2 sm:space-y-3">
                    <div class="text-4xl sm:text-5xl text-animate" style="--delay: 0.2s;">üçâ</div>
                    <h2 class="font-fancy text-4xl sm:text-5xl text-pink-800 text-animate" style="--delay: 0.4s;">¬°Feliz Cumplea√±os!</h2>
                    <p class="text-lg sm:text-xl text-pink-700 font-handwriting text-animate" style="--delay: 0.6s;">Querida Sandiluchis,</p>
                    <p class="text-2xl sm:text-3xl font-fancy text-pink-900 text-animate" style="--delay: 0.8s;">¬°Est√°s invitada!</p>
                    <div class="w-3/4 h-px bg-pink-300 mx-auto !my-4 sm:!my-6 text-animate" style="--delay: 1s;"></div>
                    <p class="text-lg sm:text-xl text-pink-700 font-semibold text-animate" style="--delay: 1.2s;">Nos encantar√≠a celebrar tu d√≠a</p>
                    <p class="text-xl sm:text-2xl text-pink-800 font-bold text-animate" style="--delay: 1.4s;">el 5 de Noviembre</p>
                    <p class="text-lg sm:text-xl text-pink-700 text-animate" style="--delay: 1.6s;">a las 8:00 de la noche.</p>
                    <p class="text-md sm:text-lg text-pink-700 text-animate !mt-4" style="--delay: 1.8s;">Te amamos mucho y queremos</p>
                    <p class="text-md sm:text-lg text-pink-700 font-handwriting text-animate" style="--delay: 2s;">una noche especial para ti.</p>
                    <p class="text-lg sm:text-xl text-pink-700 font-semibold text-animate !mt-6" style="--delay: 2.2s;">¬°No faltes!</p>
                </div>
            </div>

        </div>
    </div>

    <script>
        const card = document.getElementById('invitationCard');
        const button = document.getElementById('openButton');
        const watermelonContainer = document.getElementById('watermelonContainer');

        button.addEventListener('click', (e) => {
            e.stopPropagation(); 
            card.classList.add('is-flipped');
            setTimeout(startWatermelonRain, 600);
        });

        function startWatermelonRain() {
            const numWatermelons = 25;
            for (let i = 0; i < numWatermelons; i++) {
                createWatermelon();
            }
        }

        function createWatermelon() {
            const watermelon = document.createElement('div');
            watermelon.classList.add('watermelon');
            watermelon.textContent = 'üçâ';
            watermelon.style.left = Math.random() * 100 + '%'; 
            watermelon.style.animationDelay = Math.random() * 2 + 's';
            watermelon.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
            watermelonContainer.appendChild(watermelon);
            watermelon.addEventListener('animationend', () => {
                watermelon.remove();
            });
        }
    </script>

</body>
</html>

